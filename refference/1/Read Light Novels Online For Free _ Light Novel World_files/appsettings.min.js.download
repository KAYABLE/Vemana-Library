var lnclient;(()=>{"use strict";var t,o={d:(t,n)=>{for(var e in n)o.o(n,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={},i=(o.r(n),o.d(n,{lnUserConf:()=>a,updateTTSConf:()=>function(t,n){a.ttsrate=n,a.ttsvoice=t,c()},updateThemeColors:()=>function(t,n){a.bgcolor=t,a.hgcolor=n,c(),s(a.darkMode)}}),[14,16,18,20,22,24,26,28]),e={fontPlusBtn:$("#fontplus, #svgFontPlus"),fontMinusBtn:$("#fontminus, #svgFontMinus"),fontRangeInput:$(".range-fontsize .range input"),darkModeSwitchBtn:$(".darkmode_switch"),switchFontFamilyInputName:"radioFont",contentElement:$(".chapter-content"),fontRangeSheet:null},a=function(t){if(t)return(t=t.split(",")).length<5||"undefined"===t[4]||void 0===t[4]?null:{fontSize:parseInt(t[0]),fontFamily:t[1],darkMode:"true"===t[2],bgcolor:t[3],hgcolor:t[4],lang:t[5],ttsvoice:parseInt(t[6]),ttsrate:parseFloat(t[7])};return null}(Cookies.get("lnusrconf"));function r(t){var n=i.indexOf(t);e.fontRangeSheet.textContent=function(t){var n=["webkit-slider-runnable-track","moz-range-track","ms-track"],e=(t-1)*(100/(i.length-1)),o="";$(".range-fontsize .range-labels li").removeClass("active selected"),(t=$(".range-fontsize .range-labels").find("li:nth-child("+t+")")).addClass("active selected"),t.prevAll().addClass("selected");for(var a=0;a<n.length;a++)o=o+".range-fontsize .range {background: linear-gradient(to right, var(--anchor-color) 0%, var(--anchor-color) "+e+"%, transparent "+e+"%, transparent 100%)}.range-fontsize .range input::-"+n[a]+"{background: linear-gradient(to right, var(--anchor-color) 0%, var(--anchor-color) "+e+"%, #b2b2b2 "+e+"%, #b2b2b2 100%)}";return o}(n+1),e.contentElement.css("font-size",t),n==i.length-1?e.fontPlusBtn.addClass("isDisabled"):0==n?e.fontMinusBtn.addClass("isDisabled"):(e.fontMinusBtn.removeClass("isDisabled"),e.fontPlusBtn.removeClass("isDisabled"))}function l(t){e.contentElement.removeClass(function(t,n){return(n.match(/(^|\s)font_\S+/g)||[]).join(" ")}),e.contentElement.addClass("font_"+t),$(`input[name=${e.switchFontFamilyInputName}][value=${t}]`).prop("checked",!0)}function s(t){(!0===t?$("html").attr("theme","dark").attr("bgcolor",a.bgcolor):$("html").attr("theme","light").attr("bgcolor","white")).attr("hgcolor",a.hgcolor)}function c(){var t;Cookies.set("lnusrconf",`${(t=a).fontSize},${t.fontFamily},${t.darkMode},${t.bgcolor},${t.hgcolor},${t.lang},${t.ttsvoice},`+t.ttsrate,{secure:!0,expires:365})}$(function(){$(".range-fontsize .range-labels li").on("click",function(){var t=$(this).index();e.fontRangeInput.val(t+1).trigger("input")}),e.fontPlusBtn.on("click",function(){var t=i.indexOf(a.fontSize);t+1<i.length&&(e.fontRangeInput.val(t+1+1).trigger("input"),a.fontSize=i[t+1],r(a.fontSize),c())}),e.fontMinusBtn.on("click",function(){var t=i.indexOf(a.fontSize);0<=t-1&&(e.fontRangeInput.val(t+1-1).trigger("input"),a.fontSize=i[t-1],r(a.fontSize),c())}),$(`input[name=${e.switchFontFamilyInputName}]`).change(function(){a.fontFamily=this.value,l(a.fontFamily),c()}),e.darkModeSwitchBtn.on("click",function(){a.darkMode=!a.darkMode,s(a.darkMode),c()})}),a||(a={fontSize:16,fontFamily:"default",darkMode:!0,bgcolor:"black",hgcolor:"purple",lang:"en",ttsvoice:0,ttsrate:1},c()),e.fontRangeSheet=((t=document.createElement("style")).id="font_range_slider_style",document.body.appendChild(t),t),t=a.fontSize,t=i.indexOf(t),e.fontRangeInput.val(t+1).trigger("input"),r(a.fontSize),l(a.fontFamily),setTimeout(function(){void 0!==lnclient.chaptertts&&(lnclient.chaptertts.setRateSelection(a.ttsrate),lnclient.chaptertts.setVoiceSelection(a.ttsvoice))},1e3),e.fontRangeInput.on("input",function(){var t=parseInt(this.value-1),t=i[t];a.fontSize=t,r(a.fontSize),c()}),(lnclient=void 0===lnclient?{}:lnclient).appsettings=n})();